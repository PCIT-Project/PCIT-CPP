def std = @import("std");

type StaticString = alias @import("StaticString.pthr").StaticString;


const global_str: [Char:11] = get_string();




func get_string = () -> (output: [Char:11]) {
	var str = new StaticString<{11}>(); 

	str += "Hello";
	str += " World";

	output = new [Char:11]();
	std.mem.copyBuffer(output as [Char:*mut], str);

	return...;
}



func entry = () #entry -> UI8 {
	var str = new StaticString<{11}>();

	// TODO(FUTURE): fix this bug (make RemainginCapacityType not #priv)
	// @comptimeAssert(@getTypeID<{str.RemainingCapacityType}>() == @getTypeID<{UI8}>());

	str += 'a';

	return str.size() as UI8;
}
