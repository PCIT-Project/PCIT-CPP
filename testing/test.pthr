
when(true){
	def COND: Bool = true;
}else{
	def COND: Bool = false;
}


func get_return_code = <{TEMPL_COND: Bool}> () -> UI8 {
	when(TEMPL_COND){
		var foo: UI8 = 12;
	}else when(true){
		var foo: UI8 = 14;
	}else{
		// cause a error (foo undefined)
	}

	return (move foo);
}


func entry = () #entry -> UI8 {
	return get_return_code<{COND}>();
}