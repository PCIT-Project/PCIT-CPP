// def std = @import("std");


type Tracker = struct {
	func new = () -> (output: Tracker) {
		output.this_ptr = &output;
		return...;
	}

	func copy = (this) -> (output: Tracker) {
		output.this_ptr = &output;
		return...;
	}

	func move = (this) -> (output: Tracker) {
		output.this_ptr = &output;
		return...;
	}


	func isValid = (this) -> Bool {
		return this.this_ptr == &this;
	}


	func as = (this in) -> RawPtr {
		return this.this_ptr as RawPtr;
	}

	func forwardThis = (this in) -> Tracker {
		return forward this;
	}


	var this_ptr: Tracker* #priv;
}






func opt_test = (opt: Tracker?) -> Bool {
	return opt.?.isValid();
}



func entry = () #entry -> UI8 {
	const tracker = new Tracker();

	const ptr: RawPtr = (copy tracker) as RawPtr;

	return opt_test((copy tracker).forwardThis()) as UI8;
}